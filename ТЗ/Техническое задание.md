# Техническое задание: фронтовая игра «Олимпиада Mark.Online»

## 1. Цель проекта
Сделать чисто фронтовый сайт-игру по мотивам урока «Олимпиада. Зима» для размещения на GitHub Pages. Игра должна визуально и механически повторять шаблон из папки **ТЗ** и быть готовой для дальнейших правок.

## 2. Источники и референсы
- **Описание механики**: `ТЗ/Механика проведения занятия J3-J4 (олимпиада зима).md`.
- **Визуальный набросок поля**: `ТЗ/Поле -образец.png`.
- **Графика из репозитория** (используется в игре):
  - `pictures/BADSHISH-3.png` — Плохишиш (злодей).
  - `pictures/SUPERSHISH-2.png` — Супершиш (главный герой).
  - `pictures/vector.png` — Вектор.
  - `pictures/codeman.png` — Человек-Наук.
  - `pictures/supermark.png` — Супер-Марк.
  - `pictures/cyberjinn.png` — Киберджинн.
  - `pictures/flashcone.png` — Флеш-шишка.
  - `pictures/robot.png` — Робот (иконка/крупный персонаж).
  - `pictures/mini-robot.png` — Робот на поле (фишка исполнителя).
  - `pictures/stone.jpg` — Камень (препятствие).
  - `pictures/box.png` — Ящик (награда).
  - `pictures/lock.jpg` — Замок/блокировка (иконка к ящику или командам).

## 3. Суть игры (легенда)
Ученики выполняют задания и собирают команду супергероев МШП, чтобы победить Плохишиша. За каждый этап открываются команды для управления роботом. За набранные баллы открываются новые этапы и герои.

## 4. Функциональные требования
### 4.1. Игровое поле
- Отрисовать поле, визуально соответствующее `Поле -образец.png`:
  - Сетка клеток (путь), камень/препятствие, ящик с замком, финиш/злодей Плохишиш.
  - Разместить героев на клетках как в образце (иконки героев/персонажей).
  - Визуальные элементы: табличка «Стоимость команд», панель «Программа», блоки «Заблокированные команды» и «Доступные команды».
  - Заголовок/слоган: «Соберём команду героев!».

### 4.2. Персонажи и объекты
- Обязательные персонажи:
  - Плохишиш (злодей).
  - Супершиш (главный герой).
  - Герои: Вектор, Человек-Наук, Супер-Марк, Киберджинн, Робозека, Флеш-шишка.
- Объекты:
  - Робот (исполнитель команд).
  - Камень (препятствие).
  - Ящик с замком + «энергия» (награда).

### 4.3. Команды робота
- Базовые команды:
  - Вверх, Вниз, Влево, Вправо, Прыгнуть, Получить героя.
- Дополнительные команды (в табличке стоимости):
  - Открыть хранилище.
  - Открыть ящик.

### 4.4. Механика
- Робот перемещается по клеткам по командам.
- «Прыгнуть» перемещает робота **за** камень, перепрыгивая препятствие.
- «Получить героя» добавляет героя, на клетке которого стоит робот, в команду.
- Герои и объекты **фиксированы по клеткам** и стоят строго на своих позициях (центр клетки); перемещение героев не допускается, кроме логики «Получить героя».
- Открытие новых этапов и команд происходит по сумме набранных баллов.
- После открытия ящика появляется «энергия», которая размещается рядом с каждым открытым героем.

### 4.5. Баллы и этапы
- Баллы суммируются за выполнение тестирования и задач.
- Пороговые значения пересчитываются по формуле:
  - *стоимость этапа* = *коэффициент* × *количество учеников*.
- Коэффициенты из шаблона:
  - Первый этап: 115 × количество учеников.
  - Получение героя: 200 × количество учеников.
  - Финальный этап: 800 × количество учеников.
- Пользователь должен иметь возможность указывать количество учеников, чтобы значения пересчитывались автоматически.
- Коэффициенты не редактируются через UI: они должны храниться в отдельном рядом лежащем конфигурационном файле (например, `config.json` или `coefficients.json` в корне сайта), чтобы администратор мог менять значения без правки кода.
- В конфигурационном файле должны быть отдельные наборы коэффициентов для программ **J3**, **J4**, **P3** (ключи и структура определяются при разработке).

## 5. UI/UX требования
- Страница одностраничная (SPA без бэкенда).
- Структура сайта:
  - **Главная** страница с названием проекта «Олимпиада Mark.Online» и тремя кнопками: **J3**, **J4**, **P3**.
  - По нажатию на любую кнопку открывается **игровое поле** (один и тот же визуальный шаблон для всех программ).
  - Отличия между J3/J4/P3 — только в коэффициентах подсчёта порогов, которые загружаются из конфигурационного файла для выбранной учебной программы.
- Масштабирование поля (zoom) или адаптивность под разные экраны (в приоритете масштабирование всего поля).
- Элементы должны быть читаемыми на проекторе (крупные кнопки, контрастные подписи).
- Кнопки команд представлены как отдельные кнопки-«плитки», как в образце.
- Два блока команд:
  - «Заблокированные команды» (с кнопками внутри).
  - «Доступные команды» (пустой список или активные кнопки после открытия).
- Блок «Программа» — вертикальная область для добавления команд (визуально как список).
- В блоке «Программа» должны быть кнопки управления:
  - **Запустить** (выполнить всю программу).
  - **Шаг** (пошаговый запуск одной команды).
  - **Сбросить** (вернуть робота на стартовую позицию и очистить программу при подтверждении).

## 6. Пользовательские сценарии
1. Учитель открывает сайт на проекторе/доске.
2. Вводит количество учеников, чтобы пересчитать пороги.
3. Получает набор доступных команд по мере продвижения.
4. Добавляет команды в программу и передвигает робота по клеткам.
5. После достижения героев — «получает» их и добавляет к команде.
6. При открытии ящика — отображает энергию рядом с героями.

## 7. Технические требования
- Только фронтенд: HTML, CSS, JS.
- Статика, совместимая с GitHub Pages.
- Без серверной части и без зависимостей, требующих сборки (либо использовать минимальную сборку, если согласовано отдельно).

## 8. Контент и тексты
- Все имена персонажей и описание легенды должны соответствовать файлу с механикой.
- Основные тексты на русском языке.

## 9. Данные и состояние
- Состояние игры хранится в `localStorage` (позиция робота, открытые герои, доступные команды, программа).
- Должен быть ручной сброс состояния с подтверждением пользователя (например, диалог «Сбросить прогресс?»).
- При сбросе состояние очищается и игра возвращается к начальному состоянию.

## 10. Ограничения и будущие улучшения (необязательно)
- Позже можно добавить:
  - встроенные подсказки по легенде.

## 11. Анимации (обязательные)
- Плавное перемещение робота по клеткам (анимация шага).
- Подсветка/эффект при открытии героя и добавлении его в команду.
- Эффект появления «энергии» после открытия ящика.

---

**Примечание:** это первичная версия ТЗ для обсуждения и дальнейших правок.
